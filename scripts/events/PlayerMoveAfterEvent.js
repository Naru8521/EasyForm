const a43_0xaef95=a43_0x4447;(function(_0x54e242,_0x48c960){const _0x1e56fd=a43_0x4447,_0x5df9e9=_0x54e242();while(!![]){try{const _0x4ba232=parseInt(_0x1e56fd(0x1d1))/0x1+-parseInt(_0x1e56fd(0x1e2))/0x2+parseInt(_0x1e56fd(0x1f6))/0x3*(parseInt(_0x1e56fd(0x1e8))/0x4)+-parseInt(_0x1e56fd(0x1ec))/0x5*(parseInt(_0x1e56fd(0x1e9))/0x6)+-parseInt(_0x1e56fd(0x1db))/0x7+-parseInt(_0x1e56fd(0x1e7))/0x8+-parseInt(_0x1e56fd(0x1d0))/0x9*(-parseInt(_0x1e56fd(0x1f2))/0xa);if(_0x4ba232===_0x48c960)break;else _0x5df9e9['push'](_0x5df9e9['shift']());}catch(_0x3a676f){_0x5df9e9['push'](_0x5df9e9['shift']());}}}(a43_0x12f2,0x69078));import{ButtonState,EntityComponentTypes,InputButton,InputInfo,InputMode,Player,system,world}from'@minecraft/server';export var PlayerInputKey;(function(_0x470ed1){const _0x322db=a43_0x4447,_0x262c48={'FzTwU':_0x322db(0x1d9),'jShsM':_0x322db(0x1d4),'vqtPJ':_0x322db(0x1de)},_0x4c7f38=_0x262c48[_0x322db(0x1d8)][_0x322db(0x1f3)]('|');let _0x387d1d=0x0;while(!![]){switch(_0x4c7f38[_0x387d1d++]){case'0':_0x470ed1['S']='S';continue;case'1':_0x470ed1['D']='D';continue;case'2':_0x470ed1['A']='A';continue;case'3':_0x470ed1[_0x262c48[_0x322db(0x1d3)]]=_0x322db(0x1d4);continue;case'4':_0x470ed1[_0x322db(0x1de)]=_0x262c48['vqtPJ'];continue;case'5':_0x470ed1['W']='W';continue;}break;}}(PlayerInputKey||(PlayerInputKey={})));export const PlayerInputKeys={'W':PlayerInputKey['W'],'A':PlayerInputKey['A'],'S':PlayerInputKey['S'],'D':PlayerInputKey['D'],'SPACE':PlayerInputKey[a43_0xaef95(0x1de)],'SHIFT':PlayerInputKey[a43_0xaef95(0x1d4)]};function a43_0x12f2(){const _0xf85ce8=['Sneak','isSwimming','getComponent','DuLwZ','2074576appuhD','776YOcUft','6ywpgwj','afterEvents','getMovementVector','3123045yKaqaf','LvinP','Njyit','get','getAllPlayers','sqrt','10EcCtTZ','split','subscribe','push','9339SrSZzJ','VMEMB','Jump','filter','UQECo','includes','getButtonState','runInterval','16680879qkXaBN','212813JPotJD','forEach','jShsM','SHIFT','GcMbU','playerLeave','unsubscribe','FzTwU','5|2|0|1|4|3','delete','5603052lxiezJ','Pressed','length','SPACE','location','set','lastInputModeUsed','1111198GDRGpu'];a43_0x12f2=function(){return _0xf85ce8;};return a43_0x12f2();}const callbacks=new Map(),playerLastPositions=new Map(),playerBeforePressKeys=new Map();export default class PlayerMoveAfterEventClass{constructor(_0x5d32d0){callbacks['set'](_0x5d32d0,!![]);}static[a43_0xaef95(0x1f4)](_0x472b9c){new PlayerMoveAfterEventClass(_0x472b9c);}static[a43_0xaef95(0x1d7)](_0x46d28c){const _0xe8c0b5=a43_0xaef95;callbacks[_0xe8c0b5(0x1da)](_0x46d28c);}}world[a43_0xaef95(0x1ea)][a43_0xaef95(0x1d6)][a43_0xaef95(0x1f4)](_0x1f9a9=>{const _0x8c5ab4=a43_0xaef95,{playerId:_0x1f5513}=_0x1f9a9;playerLastPositions['delete'](_0x1f5513),playerBeforePressKeys[_0x8c5ab4(0x1da)](_0x1f5513);}),system[a43_0xaef95(0x1cf)](()=>{const _0x28c2ea=a43_0xaef95,_0x1ea6c0={'tAEWB':function(_0x2c592c,_0x55eb7f){return _0x2c592c(_0x55eb7f);},'Njyit':function(_0x23ba26,_0x577830){return _0x23ba26-_0x577830;},'UQECo':function(_0x2f73e2,_0x3a52b2){return _0x2f73e2+_0x3a52b2;},'LvinP':function(_0x2fe704,_0x1eaead){return _0x2fe704*_0x1eaead;}},_0x15d9fd=world[_0x28c2ea(0x1f0)]();for(const _0x58cdee of _0x15d9fd){const _0x3061c4=_0x58cdee['inputInfo'],_0x251d63=_0x1ea6c0['tAEWB'](getPressedKeys,_0x3061c4);if(_0x251d63[_0x28c2ea(0x1dd)]>0x0){const _0x25e287=playerBeforePressKeys[_0x28c2ea(0x1ef)](_0x58cdee['id'])||[],_0x28d764=_0x251d63[_0x28c2ea(0x1cb)](_0x454a97=>!_0x25e287[_0x28c2ea(0x1cd)](_0x454a97)),_0x15ee72=playerLastPositions[_0x28c2ea(0x1ef)](_0x58cdee['id']),_0x57e352=_0x58cdee[_0x28c2ea(0x1df)];let _0xe72e1b=0x0;if(_0x15ee72){const _0x142bbf=_0x1ea6c0[_0x28c2ea(0x1ee)](_0x57e352['x'],_0x15ee72['x']),_0x4743d7=_0x1ea6c0['Njyit'](_0x57e352['y'],_0x15ee72['y']),_0x599000=_0x1ea6c0[_0x28c2ea(0x1ee)](_0x57e352['z'],_0x15ee72['z']);_0xe72e1b=Math[_0x28c2ea(0x1f1)](_0x1ea6c0['UQECo'](_0x1ea6c0[_0x28c2ea(0x1cc)](_0x142bbf*_0x142bbf,_0x4743d7*_0x4743d7),_0x1ea6c0[_0x28c2ea(0x1ed)](_0x599000,_0x599000)));}playerLastPositions[_0x28c2ea(0x1e0)](_0x58cdee['id'],{..._0x57e352});const _0x5cf42e={'player':_0x58cdee,'keys':_0x251d63,'device':_0x3061c4[_0x28c2ea(0x1e1)],'firstKeys':_0x28d764,'distance':_0xe72e1b,'isSwimming':_0x58cdee[_0x28c2ea(0x1e4)],'isRiding':!!_0x58cdee[_0x28c2ea(0x1e5)](EntityComponentTypes['Riding'])};callbacks[_0x28c2ea(0x1d2)]((_0x59d3a5,_0x4618bc)=>_0x4618bc(_0x5cf42e));}playerBeforePressKeys[_0x28c2ea(0x1e0)](_0x58cdee['id'],_0x251d63);}});function a43_0x4447(_0x29f531,_0x328dbd){const _0x12f20e=a43_0x12f2();return a43_0x4447=function(_0x444775,_0x3f9b03){_0x444775=_0x444775-0x1c9;let _0x304340=_0x12f20e[_0x444775];return _0x304340;},a43_0x4447(_0x29f531,_0x328dbd);}export function getPressedKeys(_0x3b6c92){const _0x567a5b=a43_0xaef95,_0xd643fc={'GcMbU':function(_0x447216,_0x3dd321){return _0x447216>_0x3dd321;},'BpBGS':function(_0x5dbaca,_0x5f5b59){return _0x5dbaca<_0x5f5b59;},'DuLwZ':function(_0x41da57,_0x1510c4){return _0x41da57>_0x1510c4;},'VMEMB':function(_0x4225f7,_0x2bca09){return _0x4225f7===_0x2bca09;}},{x:_0x40b1fa,y:_0x1ac1c2}=_0x3b6c92[_0x567a5b(0x1eb)](),_0x19399f=[];if(_0xd643fc[_0x567a5b(0x1d5)](_0x1ac1c2,0x0))_0x19399f[_0x567a5b(0x1f5)](PlayerInputKey['W']);if(_0xd643fc['BpBGS'](_0x1ac1c2,0x0))_0x19399f['push'](PlayerInputKey['S']);if(_0xd643fc['BpBGS'](_0x40b1fa,0x0))_0x19399f[_0x567a5b(0x1f5)](PlayerInputKey['A']);if(_0xd643fc[_0x567a5b(0x1e6)](_0x40b1fa,0x0))_0x19399f[_0x567a5b(0x1f5)](PlayerInputKey['D']);return _0x3b6c92[_0x567a5b(0x1ce)](InputButton[_0x567a5b(0x1ca)])===ButtonState['Pressed']&&_0x19399f[_0x567a5b(0x1f5)](PlayerInputKey[_0x567a5b(0x1de)]),_0xd643fc[_0x567a5b(0x1c9)](_0x3b6c92[_0x567a5b(0x1ce)](InputButton[_0x567a5b(0x1e3)]),ButtonState[_0x567a5b(0x1dc)])&&_0x19399f[_0x567a5b(0x1f5)](PlayerInputKey['SHIFT']),_0x19399f;}